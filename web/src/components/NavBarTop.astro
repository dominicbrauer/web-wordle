---
import GitHubIcon from "../assets/icons/github.svg"
import UserIcon from "../assets/icons/user.svg"
import type { User } from "../lib/models";

const url = new URL(Astro.url);

const userData: User = Astro.locals.user;
---

<div class="nav-bar-top">
  <span class="website-link">{url.host}</span>
  <a
    class="account-link button-primary"
    class:list={{ "logged-in": !!userData }}
    href={ userData ? "/account" : "/signin" }
  >
    { userData ? <UserIcon class="user-icon" /> : "Sign in" }
  </a>
  <a href="https://github.com/dominicbrauer/web-wordle" target="_blank" class="github-link">
    <GitHubIcon class="github-icon" />
  </a>
</div>

<style>
  .nav-bar-top {
    position: relative;
    display: flex;
    flex-direction: row;
    justify-content: right;
    align-items: center;
    width: 100%;
    height: 3.5rem;
    border-bottom: 2px solid var(--border);
    padding: .75rem 2rem;
    gap: 1.25rem;
  }

  .website-link {
    font-size: .9em;
  }

  .account-link {
    padding: 4px 8px;
    position: relative;
    font-size: .9em;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
    width: auto;
    text-wrap: nowrap;
  }

  .account-link .logged-in {
    padding: 4px;
  }

  .github-link {
    width: 2.25rem;
    height: auto;
    aspect-ratio: 1 / 1;
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 100px;
    transition: all 100ms ease;
  }

  .github-link:hover {
    background-color: #ffffff1a;
  }

  .user-icon {
    width: 100%;
    height: 100%;
    aspect-ratio: 1 / 1;
  }

  .github-icon {
    stroke: var(--text-secondary);
    width: 75%;
    height: auto;
    aspect-ratio: 1 / 1;
  }
</style>