---
import '../../styles/forms.css';
---

<div class="form-container">
	<h1>Sign in</h1>
	<form name="signin-form" class="signin-form" method="post" action="http://localhost:8080/auth/signin">
		<div class="form-element">
			<label for="email">EMAIL</label>
			<input
				type="email"
				name="email"
				id="email"
				required>
		</div>
		<div class="form-element">
			<label for="password">PASSWORD</label>
			<input
				type="password"
				name="password"
				id="password"
				required>
		</div>
		<button type="submit" name="submit-btn" id="submit-btn" class="submit-btn" disabled="true">Submit</button>
	</form>
	<div class="redirect-container">
		<span>No account?</span>
		<a href="/signup">Create one</a>
	</div>
</div>

<script>
	const mailInput = document.getElementById('email') as HTMLInputElement;
	const pwInput = document.getElementById('password') as HTMLInputElement;
	const submitButton = document.getElementById('submit-btn') as HTMLButtonElement;

	const inputElements = document.querySelectorAll('input') as NodeListOf<HTMLInputElement>;

	let mailInputEmpty: boolean = true;
	let pwInputEmpty: boolean = true;

	// Activates submit button only if all inputs are filled
	inputElements?.forEach(input => {
		input?.addEventListener('input', () => {
			pwInputEmpty = pwInput.value != "" ? false : true;
			mailInputEmpty = mailInput.value != "" ? false : true;
			submitButton.disabled = mailInputEmpty || pwInputEmpty;
	})});
</script>